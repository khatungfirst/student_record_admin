(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f00d"],{"6xgn":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a("14Xm")),n=l(a("D3Ub")),i=a("BvqZ");a("Fl9n");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"menu",data:function(){return{selectInput:"",drawer:!1,isAdd:!1,data:{},midData:{},inputPairs:[],options:[],tableData:[{fatherMenu:"",menuName:"1",type:1,routeName:"3",routePath:"4",componentPath:"5",permissions:"6",isVisible:"显示",sort:"1",redirect:"1",requestUrl:"",requestMethod:"",params:[],icon:""}],ruleForm:{fatherMenu:"",menuName:"",type:1,routeName:"",routePath:"",params:[],componentPath:"",isVisible:1,sort:1,redirect:"",permissions:"",requestUrl:"",requestMethod:""},rules:{menuName:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],fatherName:[{required:!0,message:"请选择父级菜单",trigger:"change"}],type:[{required:!0}],routeName:[{required:!0,message:"请填写路由名称",trigger:"blur"}],routePath:[{required:!0,message:"请填写路由路径",trigger:"blur"}],componentPath:[{required:!0,message:"请填写组件路径",trigger:"blur"}],isVisible:[{required:!0}]}}},beforeCreate:function(){var e=this;return(0,n.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.fartherManuList)();case 2:a=t.sent,n=a.data,e.options=n,console.log(e.options,"option");case 6:case"end":return t.stop()}},t,e)}))()},created:function(){var e=this;return(0,n.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.init();case 1:case"end":return t.stop()}},t,e)}))()},methods:{init:function(){var e=this;return(0,n.default)(r.default.mark(function t(){var a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.initMenu)();case 2:a=t.sent,e.tableData=a.data;case 4:case"end":return t.stop()}},t,e)}))()},submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(){this.$refs.data.resetFields(),this.drawer=!1},addInputPair:function(){this.inputPairs.push({paramsKey:"",paramsValue:""})},removeInputPair:function(e){this.inputPairs.splice(e,1)},select:function(){var e=this;return(0,n.default)(r.default.mark(function t(){var a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.selectMenu)(e.selectInput);case 2:a=t.sent,console.log(11111111),e.tableData=a.data,console.log(e.tableData,"table");case 6:case"end":return t.stop()}},t,e)}))()},reset:function(){this.selectInput="",this.init()},addMenu:function(){var e=this;return(0,n.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.inputPairs=[],e.data=e.ruleForm,e.isAdd=!0,e.drawer=!0;case 4:case"end":return t.stop()}},t,e)}))()},newlyBuilt:function(){var e=this;return(0,n.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.inputPairs,"row"),!e.isAdd){t.next=9;break}return e.data.params=e.inputPairs,e.data.fatherMenu=e.data.fatherMenu[e.data.fatherMenu.length-1],console.log(e.data,"111"),t.next=7,(0,i.addMenu)(e.data);case 7:t.next=11;break;case 9:return t.next=11,(0,i.editMenu)(e.data);case 11:e.init(),e.drawer=!1;case 13:case"end":return t.stop()}},t,e)}))()},handleClick:function(e){var t=this;return(0,n.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.deleteMenu)(e.id);case 2:t.init();case 3:case"end":return a.stop()}},a,t)}))()},edit:function(e){this.drawer=!0,this.data=e,console.log(e)},changeType:function(e){for(var t in console.log("change"),this.ruleForm)this.ruleForm[t]=null;this.ruleForm.type=e}}}},BvqZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fartherManuList=t.deleteMenu=t.editMenu=t.addMenu=t.selectMenu=t.initMenu=void 0;var r=i(a("gDS+")),n=i(a("t3Un"));function i(e){return e&&e.__esModule?e:{default:e}}t.initMenu=function(){return n.default.get("/menuManage/init")},t.selectMenu=function(e){return n.default.get("/menuManage/selectInfo",{params:{input:e}})},t.addMenu=function(e){return n.default.post("/menuManage/newelyBuilt",(0,r.default)(e),{headers:{"Content-Type":"application/json"}})},t.editMenu=function(e){return n.default.post("/menuManage/edit",(0,r.default)(e),{headers:{"Content-Type":"application/json"}})},t.deleteMenu=function(e){return n.default.post("/menuManage/delete",(0,r.default)({menuId:e}),{headers:{"Content-Type":"application/json"}})},t.fartherManuList=function(){return n.default.get("/menuManage/list")}},I3A7:function(e,t,a){"use strict";var r=a("p5HW");a.n(r).a},"J7L/":function(e,t,a){"use strict";a.r(t);var r=a("6xgn"),n=a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);t.default=n.a},MuF1:function(e,t,a){"use strict";a.r(t);var r=a("TgWv"),n=a("J7L/");for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);a("I3A7");var l=a("KHd+"),o=Object(l.a)(n.default,r.a,r.b,!1,null,"52281d03",null);o.options.__file="index.vue",t.default=o.exports},TgWv:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"top"},[a("el-input",{staticClass:"selectInput",attrs:{placeholder:"请输入菜单名称进行搜索",clearable:""},model:{value:e.selectInput,callback:function(t){e.selectInput=t},expression:"selectInput"}}),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"right:menu:query",expression:"'right:menu:query'"}],attrs:{icon:"el-icon-search",circle:""},on:{click:e.select}}),e._v(" "),a("el-button",{on:{click:e.reset}},[a("i",{staticClass:"el-icon-refresh"}),e._v("重置")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"right:menu:build",expression:"'right:menu:build'"}],staticStyle:{"background-color":"#fc5430",color:"aliceblue"},attrs:{type:"primary"},on:{click:e.addMenu}},[a("i",{staticClass:"el-icon-plus"}),e._v("新建菜单")]),e._v(" "),a("el-drawer",{attrs:{title:"新建菜单",visible:e.drawer,"modal-append-to-body":!1},on:{"update:visible":function(t){e.drawer=t}}},[a("el-form",{ref:"data",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.data,"label-width":"100px"}},[0!==this.data.type?a("el-form-item",{attrs:{label:"父级菜单"}},[a("el-cascader",{attrs:{options:e.options,placeholder:"请选择父级菜单","show-all-levels":!1,props:{checkStrictly:!0}},model:{value:e.data.fatherMenu,callback:function(t){e.$set(e.data,"fatherMenu",t)},expression:"data.fatherMenu"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{model:{value:e.data.menuName,callback:function(t){e.$set(e.data,"menuName",t)},expression:"data.menuName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[a("el-radio-group",{on:{input:e.changeType},model:{value:e.data.type,callback:function(t){e.$set(e.data,"type",t)},expression:"data.type"}},[a("el-radio",{attrs:{label:0}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("按钮")])],1)],1),e._v(" "),1===this.data.type?a("el-form-item",{attrs:{label:"路由名称",prop:"routeName"}},[a("el-input",{model:{value:e.data.routeName,callback:function(t){e.$set(e.data,"routeName",t)},expression:"data.routeName"}})],1):e._e(),e._v(" "),2!==this.data.type?a("el-form-item",{attrs:{label:"路由路径",prop:"routePath"}},[a("el-input",{model:{value:e.data.routePath,callback:function(t){e.$set(e.data,"routePath",t)},expression:"data.routePath"}})],1):e._e(),e._v(" "),1===this.data.type?a("el-form-item",{attrs:{label:"组件路径",prop:"componentPath"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.data.componentPath,callback:function(t){e.$set(e.data,"componentPath",t)},expression:"data.componentPath"}},[a("template",{slot:"prepend"},[e._v("src/views")]),e._v(" "),a("template",{slot:"append"},[e._v(".vue")])],2)],1):e._e(),e._v(" "),1===this.data.type?a("el-form-item",{attrs:{label:"路由参数"}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.addInputPair}},[a("i",{staticClass:"el-icon-edit"}),e._v("添加路由参数")]),e._v(" "),e._l(e.inputPairs,function(t,r){return a("div",{key:r,staticClass:"paramBox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramsKey,expression:"pair.paramsKey"}],attrs:{type:"text",placeholder:"参数名"},domProps:{value:t.paramsKey},on:{input:function(a){a.target.composing||e.$set(t,"paramsKey",a.target.value)}}}),e._v("-\n            "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paramsValue,expression:"pair.paramsValue"}],attrs:{type:"text",placeholder:"参数值"},domProps:{value:t.paramsValue},on:{input:function(a){a.target.composing||e.$set(t,"paramsValue",a.target.value)}}}),e._v(" "),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.removeInputPair(r)}}})])})],2):e._e(),e._v(" "),2!==this.data.type?a("el-form-item",{attrs:{label:"icon"}},[a("el-input",{model:{value:e.data.icon,callback:function(t){e.$set(e.data,"icon",t)},expression:"data.icon"}})],1):e._e(),e._v(" "),2!==this.data.type?a("el-form-item",{attrs:{label:"显示状态",prop:"isVisible"}},[a("el-radio-group",{model:{value:e.data.isVisible,callback:function(t){e.$set(e.data,"isVisible",t)},expression:"data.isVisible"}},[a("el-radio",{attrs:{label:1}},[e._v("显示")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("隐藏")])],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},model:{value:e.data.sort,callback:function(t){e.$set(e.data,"sort",t)},expression:"data.sort"}})],1),e._v(" "),0===this.data.type?a("el-form-item",{attrs:{label:"跳转路由"}},[a("el-input",{model:{value:e.data.redirect,callback:function(t){e.$set(e.data,"redirect",t)},expression:"data.redirect"}})],1):e._e(),e._v(" "),2===this.data.type?a("el-form-item",{attrs:{label:"权限标识"}},[a("el-input",{model:{value:e.data.permissions,callback:function(t){e.$set(e.data,"permissions",t)},expression:"data.permissions"}})],1):e._e(),e._v(" "),2===this.data.type?a("el-form-item",{attrs:{label:"接口路径"}},[a("el-input",{model:{value:e.data.requestUrl,callback:function(t){e.$set(e.data,"requestUrl",t)},expression:"data.requestUrl"}})],1):e._e(),e._v(" "),2===this.data.type?a("el-form-item",{attrs:{label:"接口方法"}},[a("el-input",{model:{value:e.data.requestMethod,callback:function(t){e.$set(e.data,"requestMethod",t)},expression:"data.requestMethod"}})],1):e._e(),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.newlyBuilt}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"bottom"},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{fixed:"",label:"菜单名称","show-overflow-tooltip":"",prop:"menuName"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型","show-overflow-tooltip":"",prop:"type",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?a("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v("目录")]):e._e(),e._v(" "),1===t.row.type?a("el-tag",{attrs:{type:"danger",effect:"dark"}},[e._v("菜单")]):e._e(),e._v(" "),2===t.row.type?a("el-tag",{attrs:{type:"warning",effect:"dark"}},[e._v("按钮")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"路由名称","show-overflow-tooltip":"",prop:"routeName"}}),e._v(" "),a("el-table-column",{attrs:{prop:"routePath",label:"路由路径","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"componentPath",label:"组件路径","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"permissions",label:"权限标识","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"状态","show-overflow-tooltip":"",width:"90",formatter:function(e){return 0===e.isVisible?"隐藏":"显示"}},scopedSlots:e._u([{key:"default",fn:function(t){return[(t.row.isVisible=1)?a("el-tag",{attrs:{type:"warning"}},[e._v("显示")]):a("el-tag",{attrs:{type:"info"}},[e._v("隐藏")])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",label:"排序","show-overflow-tooltip":"",prop:"sort",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"right:menu:delete",expression:"'right:menu:delete'"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"right:menu:edit",expression:"'right:menu:edit'"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")])]}}])})],1)],1)])},n=[];a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n})},p5HW:function(e,t,a){}}]);